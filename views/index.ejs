<%- include('partials/header') %>

<!-- Hero Section -->
<section class="relative w-full h-screen overflow-hidden">
  <!-- Video Background -->
  <video autoplay muted loop playsinline class="absolute w-full h-full object-cover z-0">
    <source src="<%= heroSection?.videoUrl || 'https://www.w3schools.com/howto/rain.mp4' %>" type="video/mp4" />
    <img src="<%= heroSection?.image || 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80' %>" 
         alt="Fallback image" class="w-full h-full object-cover" />
  </video>

  <!-- Dark Overlay -->
  <div class="absolute inset-0 bg-black bg-opacity-50 z-10"></div>

  <!-- Content -->
  <div class="relative z-20 flex flex-col items-center justify-center text-center h-full px-4">
    <h1 class="text-white text-5xl md:text-7xl font-bold uppercase drop-shadow-lg tracking-wider mb-4">
      <%= heroSection?.title || __('homepage.hero_title') %>
    </h1>
    <p class="text-white tracking-widest uppercase text-xl md:text-2xl drop-shadow-sm font-medium mb-2">
      <%= heroSection?.subtitle || __('homepage.hero_subtitle') %>
    </p>
    <p class="text-white/80 tracking-wide text-base md:text-lg drop-shadow-sm mb-8">
      <%= heroSection?.description || __('homepage.hero_description') %>
    </p>
    <div class="flex flex-col sm:flex-row gap-4 items-center">
      <a href="/men" class="bg-white text-black font-bold py-4 px-8 uppercase tracking-wider hover:bg-black hover:text-white transition-all duration-300 border-2 border-white"><%= __('homepage.shop_mens') %></a>
      <a href="/products" class="bg-black text-white font-bold py-4 px-8 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 border-2 border-black shadow-lg transform hover:scale-105"><%= __('homepage.our_products') %></a>
      <a href="/women" class="bg-transparent text-white font-bold py-4 px-8 uppercase tracking-wider hover:bg-white hover:text-black transition-all duration-300 border-2 border-white"><%= __('homepage.shop_womens') %></a>
    </div>
  </div>
</section>

<!-- Featured Product Section -->
<section class="bg-white py-20 px-4">
  <div class="max-w-7xl mx-auto flex flex-col lg:flex-row items-center gap-16">
    <!-- Image Side -->
    <div class="w-full lg:w-1/2">
      <img src="<%= featuredSection?.image || 'https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80' %>" 
           alt="Featured Product" class="w-full h-[500px] object-cover" />
    </div>
    <!-- Text Side -->
    <div class="w-full lg:w-1/2 text-center lg:text-left">
      <h2 class="text-4xl md:text-5xl font-bold uppercase text-black tracking-wide mb-6">
        <%= featuredSection?.title || __('homepage.featured_title') %>
      </h2>
      <p class="text-lg text-gray-700 leading-relaxed mb-8">
        <%= featuredSection?.description || __('homepage.featured_description') %>
      </p>
      <div class="flex flex-col sm:flex-row gap-4">
        <a href="/outwork?gender=men" class="bg-black text-white font-bold py-4 px-8 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300"><%= __('homepage.shop_mens') %></a>
        <a href="/outwork?gender=women" class="bg-transparent text-black font-bold py-4 px-8 uppercase tracking-wider hover:bg-black hover:text-white transition-all duration-300 border-2 border-black"><%= __('homepage.shop_womens') %></a>
      </div>
    </div>
  </div>
</section>

<!-- Promotional Banner -->
<div class="w-full bg-black py-4 overflow-hidden">
  <div class="whitespace-nowrap animate-marquee text-white font-bold text-lg tracking-widest flex items-center">
    <% 
    let messages;
    try {
      messages = promoSection?.description ? JSON.parse(promoSection.description) : [
        'ðŸ”¥ FREE SHIPPING ON ORDERS OVER 750 DH',
        'ðŸ’ª BUILT FOR PERFORMANCE',
        'ðŸš€ NEW ARRIVALS JUST DROPPED',
        'âš¡ NO GIMMICKS, JUST GEAR THAT WORKS'
      ];
    } catch (e) {
      messages = [
        'ðŸ”¥ FREE SHIPPING ON ORDERS OVER 750 DH',
        'ðŸ’ª BUILT FOR PERFORMANCE',
        'ðŸš€ NEW ARRIVALS JUST DROPPED',
        'âš¡ NO GIMMICKS, JUST GEAR THAT WORKS'
      ];
    }
    %>
    
    <% messages.forEach(message => { %>
      <span class="mx-8"><%= message %></span>
    <% }) %>
    
    <% messages.forEach(message => { %>
      <span class="mx-8"><%= message %></span>
    <% }) %>
  </div>
</div>

<!-- Product Categories Grid -->
<section class="w-full bg-white py-20 px-4">
  <div class="max-w-7xl mx-auto">
    <h2 class="text-4xl md:text-5xl font-bold uppercase text-center mb-12 tracking-wide"><%= __('homepage.shop_by_category') %></h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Footwear -->
      <a href="/footwear" class="group block relative overflow-hidden">
        <img src="https://images.unsplash.com/photo-1549298916-b41d501d3772?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Footwear" class="w-full h-80 object-cover group-hover:scale-105 transition duration-500" />
        <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-30 transition duration-300"></div>
        <div class="absolute bottom-8 left-8">
          <h3 class="text-white text-2xl font-bold uppercase tracking-wider"><%= __('homepage.footwear') %></h3>
          <p class="text-white/80 mt-2"><%= __('homepage.footwear_desc') %></p>
        </div>
      </a>
      
      <!-- Apparel -->
      <a href="/apparel" class="group block relative overflow-hidden">
        <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Apparel" class="w-full h-80 object-cover group-hover:scale-105 transition duration-500" />
        <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-30 transition duration-300"></div>
        <div class="absolute bottom-8 left-8">
          <h3 class="text-white text-2xl font-bold uppercase tracking-wider"><%= __('homepage.apparel') %></h3>
          <p class="text-white/80 mt-2"><%= __('homepage.apparel_desc') %></p>
        </div>
      </a>
      
      <!-- Accessories -->
      <a href="/accessories" class="group block relative overflow-hidden">
        <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Accessories" class="w-full h-80 object-cover group-hover:scale-105 transition duration-500" />
        <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-30 transition duration-300"></div>
        <div class="absolute bottom-8 left-8">
          <h3 class="text-white text-2xl font-bold uppercase tracking-wider"><%= __('homepage.accessories') %></h3>
          <p class="text-white/80 mt-2"><%= __('homepage.accessories_desc') %></p>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- No Bullshit Reviews Section -->
<section class="w-full py-20 px-4 bg-gray-50">
  <div class="max-w-4xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-bold uppercase mb-8 tracking-wide"><%= __('homepage.no_bullshit_reviews') %></h2>
    <div class="flex items-center justify-center mb-8">
      <!-- Star Rating -->
      <div class="flex items-center gap-1">
        <% for(let i=1; i<=5; i++) { %>
          <svg class="w-6 h-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
            <polygon points="10,1 12.59,7.36 19.51,7.36 13.97,11.64 16.56,18 10,13.72 3.44,18 6.03,11.64 0.49,7.36 7.41,7.36"/>
          </svg>
        <% } %>
      </div>
      <span class="ml-3 text-xl font-semibold text-gray-700"><%= __('homepage.reviews_rating') %></span>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <% 
      // Access reviews from translations object directly
      const reviewsData = translations?.homepage?.reviews || {};
      const reviews = [
        {snippet: reviewsData.review_1 || 'These trainers are built like tanks. I\'ve been wearing them daily for 6 months and they still look new.', name: reviewsData.reviewer_1 || 'Marcus T.', verified: true},
        {snippet: reviewsData.review_2 || 'Finally found shoes that can handle my CrossFit workouts. The grip and stability are unmatched.', name: reviewsData.reviewer_2 || 'Sarah K.', verified: true},
        {snippet: reviewsData.review_3 || 'No-nonsense design, incredible quality. Worth every penny for serious athletes.', name: reviewsData.reviewer_3 || 'David R.', verified: true},
        {snippet: reviewsData.review_4 || 'Comfortable from day one, no break-in period needed. Perfect for lifting and cardio.', name: reviewsData.reviewer_4 || 'Jessica M.', verified: true},
      ]; 
      %>
      <% reviews.forEach(review => { %>
      <div class="bg-white p-6 rounded-lg shadow-sm">
        <p class="text-gray-800 text-lg mb-4">"<%= review.snippet %>"</p>
        <div class="flex items-center justify-between">
          <span class="font-semibold text-gray-900"><%= review.name %></span>
          <% if(review.verified) { %>
          <span class="text-sm text-green-600 font-medium"><%= __('homepage.verified_purchase') %></span>
          <% } %>
        </div>
      </div>
      <% }); %>
    </div>
  </div>
</section>

<!-- Featured Products -->
<section class="w-full py-20 px-4 bg-white">
  <div class="max-w-7xl mx-auto">
    <h2 class="text-4xl md:text-5xl font-bold uppercase text-center mb-12 tracking-wide">
      <%= featuredProductsSection?.title || __('homepage.featured_products') %>
    </h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
      <% 
      let products;
      try {
        products = featuredProductsSection?.products ? JSON.parse(featuredProductsSection.products) : [
          {img: '/img/coming.png', name: 'OUTWORK TRAINER', price: '1490 DH', category: 'Men\'s Training'},
          {img: '/img/coming.png', name: 'ALLDAY KNIT', price: '1290 DH', category: 'Women\'s Lifestyle'},
          {img: '/img/coming.png', name: 'DRIVE MESH', price: '1390 DH', category: 'Unisex Running'},
          {img: '/img/coming.png', name: 'PERFORMANCE TEE', price: '450 DH', category: 'Apparel'}
        ];
      } catch (e) {
        products = [
          {img: '/img/coming.png', name: 'OUTWORK TRAINER', price: '1490 DH', category: 'Men\'s Training'},
          {img: '/img/coming.png', name: 'ALLDAY KNIT', price: '1290 DH', category: 'Women\'s Lifestyle'},
          {img: '/img/coming.png', name: 'DRIVE MESH', price: '1390 DH', category: 'Unisex Running'},
          {img: '/img/coming.png', name: 'PERFORMANCE TEE', price: '450 DH', category: 'Apparel'}
        ];
      }
      %>
      <% products.forEach((product, index) => { %>
      <div class="group cursor-pointer">
        <div class="relative overflow-hidden mb-4">
          <img src="<%= product.img %>" alt="<%= product.name %>" class="w-full h-80 object-cover group-hover:scale-105 transition duration-500" />
          <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0 space-y-3">
              <% if (product.name === 'OUTWORK TRAINER') { %>
                <a href="/outwork" class="block bg-white text-black font-bold py-3 px-6 uppercase tracking-wider hover:bg-black hover:text-white transition-all duration-300 text-sm shadow-lg"><%= __('homepage.view_product') %></a>
                <div class="flex gap-2 justify-center">
                  <a href="/outwork?gender=men" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.men') %></a>
                  <a href="/outwork?gender=women" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.women') %></a>
                </div>
                <button class="w-full bg-green-600 text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-green-700 transition-all duration-300 text-xs shadow-lg" onclick="quickAddToCart('outwork-trainer')"><%= __('homepage.quick_add_cart') %></button>
              <% } else if (product.name === 'ALLDAY KNIT') { %>
                <a href="/allday" class="block bg-white text-black font-bold py-3 px-6 uppercase tracking-wider hover:bg-black hover:text-white transition-all duration-300 text-sm shadow-lg"><%= __('homepage.view_product') %></a>
                <div class="flex gap-2 justify-center">
                  <a href="/allday?gender=men" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.men') %></a>
                  <a href="/allday?gender=women" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.women') %></a>
                </div>
                <button class="w-full bg-green-600 text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-green-700 transition-all duration-300 text-xs shadow-lg" onclick="quickAddToCart('allday-knit')"><%= __('homepage.quick_add_cart') %></button>
              <% } else if (product.name === 'DRIVE MESH') { %>
                <a href="/drive" class="block bg-white text-black font-bold py-3 px-6 uppercase tracking-wider hover:bg-black hover:text-white transition-all duration-300 text-sm shadow-lg"><%= __('homepage.view_product') %></a>
                <div class="flex gap-2 justify-center">
                  <a href="/drive?gender=men" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.men') %></a>
                  <a href="/drive?gender=women" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.women') %></a>
                </div>
                <button class="w-full bg-green-600 text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-green-700 transition-all duration-300 text-xs shadow-lg" onclick="quickAddToCart('drive-mesh')"><%= __('homepage.quick_add_cart') %></button>
              <% } else if (product.name === 'PERFORMANCE TEE') { %>
                <a href="/apparel" class="block bg-white text-black font-bold py-3 px-6 uppercase tracking-wider hover:bg-black hover:text-white transition-all duration-300 text-sm shadow-lg"><%= __('homepage.view_apparel') %></a>
                <div class="flex gap-2 justify-center">
                  <a href="/men/apparel" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.men') %></a>
                  <a href="/women/apparel" class="bg-black text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 text-xs shadow-lg"><%= __('header.women') %></a>
                </div>
                <button class="w-full bg-green-600 text-white font-bold py-2 px-4 uppercase tracking-wider hover:bg-green-700 transition-all duration-300 text-xs shadow-lg" onclick="quickAddToCart('performance-tee')"><%= __('homepage.quick_add_cart') %></button>
              <% } %>
            </div>
          </div>
        </div>
        <div class="text-center">
          <p class="text-sm text-gray-500 uppercase tracking-wider mb-1"><%= product.category %></p>
          <h3 class="text-lg font-bold uppercase tracking-wide mb-2"><%= product.name %></h3>
          <p class="text-xl font-semibold"><%= product.price %></p>
        </div>
      </div>
      <% }); %>
    </div>
  </div>
</section>

<!-- Brand Story Section -->
<section class="relative w-full h-[600px] flex items-center justify-center overflow-hidden">
  <!-- Background Image -->
  <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80" alt="Brand Story" class="absolute inset-0 w-full h-full object-cover z-0" />
  <!-- Dark Overlay -->
  <div class="absolute inset-0 bg-black bg-opacity-60 z-10"></div>
  <!-- Content -->
  <div class="relative z-20 text-center px-4 max-w-4xl">
    <h2 class="text-white text-4xl md:text-6xl font-bold uppercase mb-6 tracking-wide"><%= __('homepage.brand_story_title') %></h2>
    <p class="text-white/90 text-lg md:text-xl leading-relaxed mb-8"><%= __('homepage.brand_story_desc') %></p>
    <a href="/about" class="bg-white text-black font-bold py-4 px-8 uppercase tracking-wider hover:bg-black hover:text-white transition-all duration-300 border-2 border-white"><%= __('homepage.learn_more') %></a>
  </div>
</section>

<!-- Performance Features Section -->
<section class="w-full py-20 px-4 bg-gray-900">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold uppercase text-white mb-4 tracking-wide"><%= __('homepage.engineered_athletes') %></h2>
      <p class="text-xl text-gray-300"><%= __('homepage.engineered_subtitle') %></p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
      <% const features = [
        {icon: '<i class="fas fa-shield-alt"></i>', title: __('homepage.durability'), desc: __('homepage.durability_desc')},
        {icon: '<i class="fas fa-bolt"></i>', title: __('homepage.performance'), desc: __('homepage.performance_desc')},
        {icon: '<i class="fas fa-feather-alt"></i>', title: __('homepage.comfort'), desc: __('homepage.comfort_desc')}
      ]; %>
      <% features.forEach(feature => { %>
      <div class="text-center feature-item">
        <div class="text-6xl mb-6 feature-icon"><%- feature.icon %></div>
        <h3 class="text-2xl font-bold uppercase text-white mb-4 tracking-wider feature-title"><%= feature.title %></h3>
        <p class="text-gray-300 leading-relaxed feature-desc"><%= feature.desc %></p>
      </div>
      <% }); %>
    </div>
  </div>
</section>

<!-- Athlete Spotlight Section -->
<section class="w-full py-20 px-4 bg-white">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold uppercase mb-4 tracking-wide"><%= __('homepage.trusted_athletes') %></h2>
      <p class="text-xl text-gray-600"><%= __('homepage.trusted_subtitle') %></p>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <div class="relative">
        <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Professional Athlete" class="w-full h-[600px] object-cover" />
        <div class="absolute bottom-8 left-8 bg-black/80 p-6 text-white max-w-sm">
          <h4 class="text-xl font-bold uppercase mb-2">SARAH MARTINEZ</h4>
          <p class="text-sm uppercase tracking-wider text-gray-300">CROSSFIT GAMES ATHLETE</p>
        </div>
      </div>
      <div class="space-y-8">
        <blockquote class="text-2xl md:text-3xl font-bold text-gray-900 leading-tight">
          "<%= __('homepage.athlete_quote') %>"
        </blockquote>
        <div class="space-y-4">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-black rounded-full flex items-center justify-center">
              <span class="text-white font-bold">1</span>
            </div>
            <p class="text-lg text-gray-700">Competed in 15+ CrossFit competitions</p>
          </div>
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-black rounded-full flex items-center justify-center">
              <span class="text-white font-bold">2</span>
            </div>
            <p class="text-lg text-gray-700">Regional champion 3 years running</p>
          </div>
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-black rounded-full flex items-center justify-center">
              <span class="text-white font-bold">3</span>
            </div>
            <p class="text-lg text-gray-700">Trains 6 days a week in SABILS gear</p>
          </div>
        </div>
        <a href="/athletes" class="inline-block bg-black text-white font-bold py-4 px-8 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300"><%= __('homepage.meet_athletes') %></a>
      </div>
    </div>
  </div>
</section>

<!-- Training Programs Section -->
<section class="w-full py-20 px-4 bg-gray-50">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold uppercase mb-4 tracking-wide"><%= __('homepage.train_like_pro') %></h2>
      <p class="text-xl text-gray-600"><%= __('homepage.training_subtitle') %></p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <% const programs = [
        {title: __('homepage.strength_foundation'), duration: '4 ' + __('homepage.weeks'), level: __('homepage.beginner'), img: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'},
        {title: __('homepage.crossfit_prep'), duration: '8 ' + __('homepage.weeks'), level: __('homepage.intermediate'), img: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'},
        {title: __('homepage.elite_performance'), duration: '12 ' + __('homepage.weeks'), level: __('homepage.advanced'), img: 'https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'}
      ]; %>
      <% programs.forEach(program => { %>
      <div class="bg-white rounded-lg overflow-hidden shadow-lg group cursor-pointer">
        <div class="relative overflow-hidden">
          <img src="<%= program.img %>" alt="<%= program.title %>" class="w-full h-64 object-cover group-hover:scale-105 transition duration-500" />
          <div class="absolute top-4 right-4 bg-black text-white px-3 py-1 text-sm font-bold uppercase">
            <%= program.level %>
          </div>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold uppercase mb-2 tracking-wide"><%= program.title %></h3>
          <p class="text-gray-600 mb-4"><%= program.duration %> â€¢ <%= __('homepage.progressive_training') %></p>
          <a href="/training" class="bg-black text-white font-bold py-3 px-6 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 inline-block"><%= __('homepage.start_program') %></a>
        </div>
      </div>
      <% }); %>
    </div>
  </div>
</section>

<!-- Newsletter Signup Section -->
<section class="w-full py-20 px-4 bg-black">
  <div class="max-w-4xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-bold uppercase text-white mb-6 tracking-wide"><%= __('homepage.stay_in_loop') %></h2>
    <p class="text-xl text-gray-300 mb-8"><%= __('homepage.newsletter_desc') %></p>
    <form class="flex flex-col sm:flex-row gap-4 max-w-2xl mx-auto">
      <input type="email" placeholder="<%= __('homepage.enter_email') %>" class="flex-1 px-6 py-4 text-lg border-2 border-white bg-transparent text-white placeholder-gray-400 focus:outline-none focus:border-gray-300" />
      <button type="submit" class="bg-white text-black font-bold py-4 px-8 uppercase tracking-wider hover:bg-gray-200 transition-all duration-300"><%= __('homepage.subscribe') %></button>
    </form>
    <p class="text-sm text-gray-400 mt-4"><%= __('homepage.no_spam') %></p>
  </div>
</section>

<!-- Size Guide Section -->
<section class="w-full py-20 px-4 bg-white">
  <div class="max-w-7xl mx-auto">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <div>
        <h2 class="text-4xl md:text-5xl font-bold uppercase mb-6 tracking-wide"><%= __('homepage.perfect_fit') %></h2>
        <p class="text-lg text-gray-700 mb-8 leading-relaxed"><%= __('homepage.fit_desc') %></p>
        <div class="space-y-4 mb-8">
          <div class="flex items-center gap-4">
            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
            <span class="text-lg"><%= __('homepage.free_exchanges') %></span>
          </div>
          <div class="flex items-center gap-4">
            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
            <span class="text-lg"><%= __('homepage.measurement_guide') %></span>
          </div>
          <div class="flex items-center gap-4">
            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
            <span class="text-lg"><%= __('homepage.fitting_advice') %></span>
          </div>
        </div>
        <a href="/size-guide" class="bg-black text-white font-bold py-4 px-8 uppercase tracking-wider hover:bg-gray-800 transition-all duration-300"><%= __('homepage.view_size_guide') %></a>
      </div>
      <div class="relative">
        <img src="https://images.unsplash.com/photo-1549298916-b41d501d3772?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Size Guide" class="w-full h-[500px] object-cover" />
        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
      </div>
    </div>
  </div>
</section>

<!-- Community Section -->
<section class="w-full py-20 px-4 bg-white">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-12">
      <h2 class="text-4xl md:text-5xl font-bold uppercase mb-4 tracking-wide">
        <%= communitySection?.title || __('homepage.join_community') %>
      </h2>
      <p class="text-xl text-gray-600">
        <%= communitySection?.subtitle || __('homepage.tag_us') %>
      </p>
    </div>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
      <% 
      let posts;
      try {
        posts = communitySection?.posts ? JSON.parse(communitySection.posts) : [
          '/uploads/1749596016710-backiee-314483.jpg',
          '/uploads/1749653683665-backiee-314483.jpg',
          '/uploads/1749653758617-backiee-314483.jpg',
          '/uploads/1749732989418.jpg',
          '/uploads/1749736133349.jpg',
          '/uploads/1749736317459.jpg',
          '/uploads/1750089522872.jpg',
          '/uploads/1750090379417.jpg'
        ];
      } catch (e) {
        posts = [
          '/uploads/1749596016710-backiee-314483.jpg',
          '/uploads/1749653683665-backiee-314483.jpg',
          '/uploads/1749653758617-backiee-314483.jpg',
          '/uploads/1749732989418.jpg',
          '/uploads/1749736133349.jpg',
          '/uploads/1749736317459.jpg',
          '/uploads/1750089522872.jpg',
          '/uploads/1750090379417.jpg'
        ];
      }
      %>
      <% posts.forEach(post => { %>
      <a href="/community" class="relative aspect-square overflow-hidden group cursor-pointer block">
        <img src="<%= post %>" alt="Community Post" class="w-full h-full object-cover transition group-hover:scale-105" />
        <div class="absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition">
          <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7.75 2A5.75 5.75 0 0 0 2 7.75v8.5A5.75 5.75 0 0 0 7.75 22h8.5A5.75 5.75 0 0 0 22 16.25v-8.5A5.75 5.75 0 0 0 16.25 2h-8.5zm0 1.5h8.5A4.25 4.25 0 0 1 20.5 7.75v8.5a4.25 4.25 0 0 1-4.25 4.25h-8.5A4.25 4.25 0 0 1 3.5 16.25v-8.5A4.25 4.25 0 0 1 7.75 3.5zm4.25 2.25a4.25 4.25 0 1 0 0 8.5 4.25 4.25 0 0 0 0-8.5zm0 1.5a2.75 2.75 0 1 1 0 5.5 2.75 2.75 0 0 1 0-5.5zM19 7.25a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
          </svg>
        </div>
      </a>
      <% }); %>
    </div>
  </div>
</section>

<!-- FAQ Section -->
<section class="w-full py-20 px-4 bg-gray-50">
  <div class="max-w-4xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold uppercase mb-4 tracking-wide"><%= __('homepage.frequently_asked') %></h2>
      <p class="text-xl text-gray-600"><%= __('homepage.faq_subtitle') %></p>
    </div>
    <div class="space-y-6">
      <% const faqs = [
        {q: 'What makes SABILS different from other athletic brands?', a: 'We focus purely on performance without gimmicks. Every product is tested by real athletes in real conditions. No flashy marketing, just gear that works.'},
        {q: 'How do I know which size to order?', a: 'Use our detailed size guide and measuring instructions. We also offer free exchanges within 30 days if the fit isn\'t perfect.'},
        {q: 'Are SABILS shoes good for CrossFit?', a: 'Absolutely. Our shoes are designed specifically for functional fitness and are trusted by CrossFit Games athletes worldwide.'},
        {q: 'What is your return policy?', a: 'We offer a 30-day return window for unworn items in original packaging. Exchanges are free, returns have a small processing fee.'},
        {q: 'Do you offer international shipping?', a: 'Yes, we ship to most countries worldwide. Shipping costs and delivery times vary by location.'}
      ]; %>
      <% faqs.forEach((faq, index) => { %>
      <div class="bg-white rounded-lg shadow-sm">
        <button class="w-full text-left p-6 focus:outline-none" onclick="toggleFAQ(<%= index %>)">
          <div class="flex justify-between items-center">
            <h3 class="text-lg font-bold uppercase tracking-wide"><%= faq.q %></h3>
            <svg class="w-6 h-6 transform transition-transform" id="faq-icon-<%= index %>" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
            </svg>
          </div>
        </button>
        <div class="hidden px-6 pb-6" id="faq-answer-<%= index %>">
          <p class="text-gray-700 leading-relaxed"><%= faq.a %></p>
        </div>
      </div>
      <% }); %>
    </div>
  </div>
</section>

<!-- Styles -->
<style>
@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.animate-marquee {
  display: inline-block;
  min-width: 200%;
  animation: marquee 20s linear infinite;
}

/* Custom font styling to match sabils */
body {
  font-family: 'Helvetica Neue', Arial, sans-serif;
}

h1, h2, h3 {
  font-weight: 700;
  letter-spacing: 0.05em;
}

/* Button hover effects */
.transition-all {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.feature-item {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.feature-item.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.feature-icon {
  display: inline-block;
  transition: transform 0.3s ease;
}

.feature-item.is-visible .feature-icon {
  transform: scale(1.1);
}

.feature-icon i {
  color: white;
}
</style>

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- FAQ Toggle Script -->
<script>
function toggleFAQ(index) {
  const answer = document.getElementById(`faq-answer-${index}`);
  const icon = document.getElementById(`faq-icon-${index}`);
  
  if (answer.classList.contains('hidden')) {
    answer.classList.remove('hidden');
    icon.style.transform = 'rotate(180deg)';
  } else {
    answer.classList.add('hidden');
    icon.style.transform = 'rotate(0deg)';
  }
}

// Quick Add to Cart functionality
function quickAddToCart(productId) {
  // Show loading state
  const button = event.target;
  const originalText = button.textContent;
  button.textContent = 'Adding...';
  button.disabled = true;
  
  // Simulate adding to cart (replace with actual cart functionality)
  setTimeout(() => {
    button.textContent = 'Added!';
    button.classList.remove('bg-green-600', 'hover:bg-green-700');
    button.classList.add('bg-green-700');
    
    // Show success message
    showNotification('Product added to cart!', 'success');
    
    // Reset button after 2 seconds
    setTimeout(() => {
      button.textContent = originalText;
      button.disabled = false;
      button.classList.remove('bg-green-700');
      button.classList.add('bg-green-600', 'hover:bg-green-700');
    }, 2000);
  }, 1000);
}

// Scroll Animation
const scrollObserver = new IntersectionObserver((entries, observer) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('is-visible');
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.feature-item').forEach(item => {
  scrollObserver.observe(item);
});

// Notification system
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white font-bold uppercase tracking-wider transform translate-x-full transition-transform duration-300 ${
    type === 'success' ? 'bg-green-600' : 
    type === 'error' ? 'bg-red-600' : 
    'bg-blue-600'
  }`;
  notification.textContent = message;
  
  document.body.appendChild(notification);
  
  // Slide in
  setTimeout(() => {
    notification.classList.remove('translate-x-full');
  }, 100);
  
  // Slide out and remove
  setTimeout(() => {
    notification.classList.add('translate-x-full');
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}
</script>

<%- include('partials/footer') %>